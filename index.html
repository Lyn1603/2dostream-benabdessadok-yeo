<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Acceuil</title>
</head>
<body>
<div>
    <h1>Welcome</h1>
    <ul id="movies"></ul>

    <script>

        function create(element) {
            return document.createElement(element);
        }

        function append(parent, el) {
            return parent.appendChild(el);
        }

        const ul = document.getElementById('movies');
        const url = 'https://api.themoviedb.org/3/movie/popular?api_key=f0fb6f1cd0d5b87fa09e82b0392cf375&language=en-US&page=1';

        fetch(url)
            .then((resp) => resp.json())
            .then(function(data) {
                let movies = data["results"] ;
                let convert_movie = Object.keys(movies);
                return convert_movie.map(function(convert_movie) {
                    let span = create('span');
                    let h1 = create('h1');
                    let p = create('p');
                    h1.innerHTML = `${convert_movie.id}`;
                    span.innerHTML = `${convert_movie.title}`;
                    p.innerHTML = `${convert_movie.overview}`;
                    append(ul, h1);
                    append(ul, span);
                    append(ul, p);
                    console.log(fetch(url))
                })


            })
            .catch(function(error) {
                console.log(error);
            });


    </script>
</div>
</body>
</html>